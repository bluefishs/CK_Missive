# =============================================================================
# 乾坤測繪公文管理系統 - 環境變數範例檔
# =============================================================================
# 📝 說明：請複製此檔案為 .env 並填入實際的設定值
# ⚠️ 警告：.env 檔案不應提交至版本控制
# =============================================================================

# --- 🏷️ 專案基本資訊 ---
COMPOSE_PROJECT_NAME=ck_missive
PROJECT_VERSION=3.1
ENVIRONMENT=development
NODE_ENV=development
DEVELOPMENT_MODE=true

# --- 🐳 Docker 服務端口配置 ---
# 前端
FRONTEND_HOST_PORT=3000
FRONTEND_CONTAINER_PORT=80
VITE_PORT=3000

# 後端
BACKEND_HOST_PORT=8001
BACKEND_CONTAINER_PORT=8000

# 資料庫
POSTGRES_HOST_PORT=5434
POSTGRES_CONTAINER_PORT=5432

# 管理工具
ADMINER_HOST_PORT=8080
ADMINER_CONTAINER_PORT=8080

# Redis 快取
REDIS_HOST_PORT=6380
REDIS_CONTAINER_PORT=6379

# --- 🗄️ 資料庫配置 (必填) ---
POSTGRES_USER=ck_user
POSTGRES_PASSWORD=YOUR_SECURE_PASSWORD_HERE
POSTGRES_DB=ck_documents
POSTGRES_HOST=localhost
DATABASE_URL=postgresql://ck_user:YOUR_SECURE_PASSWORD_HERE@localhost:5434/ck_documents

# Redis 配置
REDIS_HOST=localhost
REDIS_URL=redis://localhost:6380/0

# --- 🔐 安全設定 (生產環境必須修改) ---
# 使用 openssl rand -hex 32 生成安全金鑰
SECRET_KEY=YOUR_SECRET_KEY_HERE_GENERATE_WITH_OPENSSL
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=60

# --- 🌐 CORS 與 API 設定 ---
CORS_ORIGINS=http://localhost:3000,http://127.0.0.1:3000
VITE_API_BASE_URL=http://localhost:8001
VITE_API_URL=http://localhost:8001

# --- 🔍 開發模式設定 ---
DEBUG=false
DATABASE_ECHO=false
LOG_LEVEL=INFO
# ⚠️ 生產環境必須設為 false
AUTH_DISABLED=false

# --- 📧 Google OAuth 設定 (選填) ---
GOOGLE_CLIENT_ID=your_google_client_id
GOOGLE_CLIENT_SECRET=your_google_client_secret
GOOGLE_REDIRECT_URI=http://localhost:3000/auth/callback
GOOGLE_CALENDAR_ID=primary
GOOGLE_CREDENTIALS_PATH=./GoogleCalendarAPIKEY.json

# Google OAuth 安全設定
GOOGLE_ALLOWED_DOMAINS=
AUTO_ACTIVATE_NEW_USER=false
DEFAULT_USER_ROLE=user

# --- 📱 前端特定設定 ---
VITE_GOOGLE_CLIENT_ID=${GOOGLE_CLIENT_ID}
VITE_AUTH_DISABLED=${AUTH_DISABLED}

# --- 🤖 AI 服務設定 (v1.37.0) ---
# Groq API (免費額度: 30 req/min, 14,400/day)
# 申請: https://console.groq.com/
GROQ_API_KEY=
AI_ENABLED=true
AI_DEFAULT_MODEL=llama-3.3-70b-versatile

# Ollama (本地備援，可選)
OLLAMA_BASE_URL=http://localhost:11434
OLLAMA_MODEL=llama3.1:8b

# --- 📊 監控與日誌 ---
LOG_FILE=./logs/app.log
ENABLE_LOGGING=true
ENABLE_METRICS=true

# --- 🚀 效能設定 ---
POOL_SIZE=5
MAX_OVERFLOW=10
POOL_RECYCLE=300

# =============================================================================
# 📋 安全檢查清單 (生產部署前確認):
#
# [ ] SECRET_KEY 已設定為強隨機值
# [ ] POSTGRES_PASSWORD 已設定為強密碼
# [ ] AUTH_DISABLED=false
# [ ] DEBUG=false
# [ ] DEVELOPMENT_MODE=false
# [ ] GOOGLE_ALLOWED_DOMAINS 已設定 (如果使用 Google OAuth)
# [ ] AUTO_ACTIVATE_NEW_USER=false
# [ ] CORS_ORIGINS 僅包含允許的網域
# =============================================================================
