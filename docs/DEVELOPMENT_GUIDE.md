# ğŸ”§ ä¹¾å¤æ¸¬ç¹ªå…¬æ–‡ç®¡ç†ç³»çµ± - é–‹ç™¼ç’°å¢ƒæŒ‡å—

## ğŸš€ å¿«é€Ÿé–‹å§‹

### Windows ç”¨æˆ¶
```powershell
# å•Ÿå‹•é–‹ç™¼ç’°å¢ƒ
.\dev-start.ps1

# æŸ¥çœ‹ç‹€æ…‹
.\dev-start.ps1 -Status

# åœæ­¢ç’°å¢ƒ
.\dev-start.ps1 -Stop
```

### Linux/Mac ç”¨æˆ¶
```bash
# å•Ÿå‹•é–‹ç™¼ç’°å¢ƒ
./dev-start.sh

# ç›£æ§ç’°å¢ƒç‹€æ…‹
python dev-monitor.py watch

# åŒæ­¥å·¥å…·
./dev-sync.sh backend  # é‡å•Ÿå¾Œç«¯
```

## ğŸ¯ è§£æ±º Docker åŒæ­¥å•é¡Œ

### å•é¡Œæè¿°
- **å®¹å™¨åŒ–ç¨‹å¼ç¢¼ä¸å³æ™‚æ›´æ–°** - éœ€è¦é‡æ–°å»ºç½®æ‰èƒ½çœ‹åˆ°è®Šæ›´
- **é–‹ç™¼æ•ˆç‡ä½ä¸‹** - æ¯æ¬¡ä¿®æ”¹éƒ½è¦ç­‰å¾…é‡å»º
- **ç¼ºä¹ç†±é‡è¼‰æ©Ÿåˆ¶** - ç„¡æ³•å³æ™‚åæ˜ ç¨‹å¼ç¢¼è®Šæ›´

### è§£æ±ºæ–¹æ¡ˆ
æˆ‘å€‘å»ºç«‹äº†å®Œæ•´çš„é–‹ç™¼ç’°å¢ƒè§£æ±ºæ–¹æ¡ˆï¼š

#### 1. é–‹ç™¼å°ˆç”¨é…ç½®
- **docker-compose.dev.yml** - é–‹ç™¼ç’°å¢ƒå°ˆç”¨é…ç½®
- **backend/Dockerfile.dev** - å¾Œç«¯é–‹ç™¼æ˜ åƒ
- **frontend/Dockerfile.dev** - å‰ç«¯é–‹ç™¼æ˜ åƒ

#### 2. ç†±é‡è¼‰æ©Ÿåˆ¶
```yaml
# å¾Œç«¯ç†±é‡è¼‰
volumes:
  - ./backend:/app  # å³æ™‚åŒæ­¥ç¨‹å¼ç¢¼
command: uvicorn main:app --reload  # è‡ªå‹•é‡è¼‰

# å‰ç«¯ç†±é‡è¼‰
volumes:
  - ./frontend:/app  # å³æ™‚åŒæ­¥ç¨‹å¼ç¢¼
command: npm run dev  # Vite HMR ç†±æ›´æ–°
```

#### 3. ç’°å¢ƒåˆ†é›¢
- **é–‹ç™¼ç’°å¢ƒ**: `docker-compose.dev.yml` (ç†±é‡è¼‰ã€å³æ™‚åŒæ­¥)
- **ç”Ÿç”¢ç’°å¢ƒ**: `docker-compose.unified.yml` (æœ€ä½³åŒ–ã€å®‰å…¨)

## ğŸ“Š é–‹ç™¼ç’°å¢ƒç‰¹è‰²

### âœ… å³æ™‚ç¨‹å¼ç¢¼åŒæ­¥
- æœ¬åœ°ç¨‹å¼ç¢¼ç›´æ¥æ›è¼‰åˆ°å®¹å™¨
- ä¿®æ”¹å¾Œç«‹å³åæ˜ ï¼Œç„¡éœ€é‡å»º
- æ’é™¤ä¸å¿…è¦çš„ç›®éŒ„ (node_modules, __pycache__)

### âœ… ç†±é‡è¼‰æ”¯æ´
- **å¾Œç«¯**: uvicorn --reload è‡ªå‹•é‡å•Ÿ
- **å‰ç«¯**: Vite HMR ç†±æ¨¡çµ„æ›¿æ›
- **é…ç½®**: ç’°å¢ƒè®Šæ•¸å³æ™‚ç”Ÿæ•ˆ

### âœ… ç¨ç«‹é–‹ç™¼è³‡æ–™
- é–‹ç™¼ç’°å¢ƒä½¿ç”¨ç¨ç«‹çš„è³‡æ–™åº«
- ä¸å½±éŸ¿ç”Ÿç”¢è³‡æ–™
- å¯ä»¥éš¨æ™‚é‡ç½®é–‹ç™¼è³‡æ–™

### âœ… å®Œæ•´ç›£æ§å·¥å…·
- æœå‹™ç‹€æ…‹ç›£æ§
- å®¹å™¨è³‡æºä½¿ç”¨ç›£æ§
- HTTP ç«¯é»å¥åº·æª¢æŸ¥
- æª”æ¡ˆåŒæ­¥ç‹€æ…‹æª¢æŸ¥

## ğŸ› ï¸ é–‹ç™¼å·¥å…·ä½¿ç”¨

### 1. ç’°å¢ƒç®¡ç†
```bash
# Windows
.\dev-start.ps1              # å•Ÿå‹•é–‹ç™¼ç’°å¢ƒ
.\dev-start.ps1 -Clean       # æ¸…ç†å¾Œå•Ÿå‹•
.\dev-start.ps1 -Rebuild     # é‡å»ºå¾Œå•Ÿå‹•
.\dev-start.ps1 -Stop        # åœæ­¢é–‹ç™¼ç’°å¢ƒ
.\dev-start.ps1 -Status      # æŸ¥çœ‹ç‹€æ…‹
.\dev-start.ps1 -Logs        # æŸ¥çœ‹æ—¥èªŒ

# Linux/Mac
./dev-start.sh               # å•Ÿå‹•é–‹ç™¼ç’°å¢ƒ
```

### 2. ç›£æ§å·¥å…·
```bash
python dev-monitor.py        # å–®æ¬¡ç‹€æ…‹æª¢æŸ¥
python dev-monitor.py watch  # æŒçºŒç›£æ§æ¨¡å¼
python dev-monitor.py docker # åªæª¢æŸ¥ Docker
python dev-monitor.py http   # åªæª¢æŸ¥ HTTP æœå‹™
```

### 3. åŒæ­¥å·¥å…·
```bash
./dev-sync.sh backend        # é‡å•Ÿå¾Œç«¯æœå‹™
./dev-sync.sh frontend       # é‡å•Ÿå‰ç«¯æœå‹™
./dev-sync.sh all           # é‡å•Ÿæ‰€æœ‰æœå‹™
./dev-sync.sh logs backend  # æŸ¥çœ‹å¾Œç«¯æ—¥èªŒ
./dev-sync.sh shell backend # é€²å…¥å¾Œç«¯å®¹å™¨
./dev-sync.sh install       # å®‰è£æ–°ä¾è³´å¾Œé‡å»º
./dev-sync.sh reset         # é‡ç½®é–‹ç™¼ç’°å¢ƒ
```

## ğŸ›ï¸ æœå‹™è¨ªå•åœ°å€

### é–‹ç™¼ç’°å¢ƒ
- **å‰ç«¯é–‹ç™¼ä¼ºæœå™¨**: http://localhost:3000 (Vite HMR)
- **å¾Œç«¯é–‹ç™¼ API**: http://localhost:8001 (ç†±é‡è¼‰)
- **API é–‹ç™¼æ–‡æª”**: http://localhost:8001/api/docs
- **é–‹ç™¼è³‡æ–™åº«ç®¡ç†**: http://localhost:8080
- **é–‹ç™¼è³‡æ–™åº«**: localhost:5434

### ç”Ÿç”¢ç’°å¢ƒ
- **å‰ç«¯æ‡‰ç”¨**: http://localhost:3000 (Nginx)
- **å¾Œç«¯ API**: http://localhost:8001
- **API æ–‡æª”**: http://localhost:8001/api/docs
- **è³‡æ–™åº«ç®¡ç†**: http://localhost:8080
- **è³‡æ–™åº«**: localhost:5434

## ğŸ”„ é–‹ç™¼å·¥ä½œæµç¨‹

### æ—¥å¸¸é–‹ç™¼
1. **å•Ÿå‹•é–‹ç™¼ç’°å¢ƒ**
   ```bash
   ./dev-start.sh  # æˆ– .\dev-start.ps1
   ```

2. **é–‹å§‹ç·¨ç¢¼**
   - ä¿®æ”¹ `backend/` ä¸­çš„ Python ç¨‹å¼ç¢¼ â†’ è‡ªå‹•é‡è¼‰
   - ä¿®æ”¹ `frontend/src/` ä¸­çš„ React ç¨‹å¼ç¢¼ â†’ HMR ç†±æ›´æ–°

3. **ç›£æ§ç‹€æ…‹**
   ```bash
   python dev-monitor.py watch
   ```

4. **é™¤éŒ¯å·¥å…·**
   ```bash
   ./dev-sync.sh logs backend    # æŸ¥çœ‹å¾Œç«¯æ—¥èªŒ
   ./dev-sync.sh shell backend   # é€²å…¥å¾Œç«¯å®¹å™¨é™¤éŒ¯
   ```

### æ–°ä¾è³´å®‰è£
1. **å¾Œç«¯ä¾è³´**
   ```bash
   # åœ¨æœ¬åœ°ä¿®æ”¹ requirements.txt
   ./dev-sync.sh install  # é‡å»ºå®¹å™¨
   ```

2. **å‰ç«¯ä¾è³´**
   ```bash
   # åœ¨æœ¬åœ°ä¿®æ”¹ package.json
   ./dev-sync.sh install  # é‡å»ºå®¹å™¨
   ```

### ç’°å¢ƒé‡ç½®
```bash
./dev-sync.sh reset  # å®Œå…¨é‡ç½®é–‹ç™¼ç’°å¢ƒ
```

## ğŸš¨ å¸¸è¦‹å•é¡Œè§£æ±º

### å•é¡Œ 1: ç¨‹å¼ç¢¼ä¿®æ”¹å¾Œæ²’æœ‰åæ˜ 
**è§£æ±ºæ–¹æ¡ˆ:**
```bash
# æª¢æŸ¥å®¹å™¨æ˜¯å¦æ­£å¸¸é‹è¡Œ
docker-compose -f docker-compose.dev.yml ps

# é‡å•Ÿç›¸é—œæœå‹™
./dev-sync.sh backend  # æˆ– frontend
```

### å•é¡Œ 2: ç«¯å£ä½”ç”¨
**è§£æ±ºæ–¹æ¡ˆ:**
```bash
# ä½¿ç”¨ç«¯å£ç®¡ç†å·¥å…·
./scripts/port-manager.ps1 -Action kill -Service all
```

### å•é¡Œ 3: å®¹å™¨è³‡æºä¸è¶³
**è§£æ±ºæ–¹æ¡ˆ:**
```bash
# æŸ¥çœ‹è³‡æºä½¿ç”¨
python dev-monitor.py

# æ¸…ç†ä¸ç”¨çš„å®¹å™¨å’Œæ˜ åƒ
docker system prune -f
```

### å•é¡Œ 4: ç†±é‡è¼‰ä¸å·¥ä½œ
**æª¢æŸ¥æ¸…å–®:**
- âœ… ä½¿ç”¨é–‹ç™¼é…ç½®æª”æ¡ˆ `docker-compose.dev.yml`
- âœ… volume æ­£ç¢ºæ›è¼‰æœ¬åœ°ç¨‹å¼ç¢¼ç›®éŒ„
- âœ… å•Ÿå‹•å‘½ä»¤åŒ…å« `--reload` æˆ–é–‹ç™¼æ¨¡å¼
- âœ… æ²’æœ‰èªæ³•éŒ¯èª¤é˜»æ­¢é‡è¼‰

## ğŸ“ˆ æ•ˆèƒ½æœ€ä½³åŒ–å»ºè­°

### 1. Volume æœ€ä½³åŒ–
- æ’é™¤ä¸å¿…è¦çš„ç›®éŒ„åŒæ­¥
- ä½¿ç”¨ .dockerignore æª”æ¡ˆ
- è€ƒæ…®ä½¿ç”¨ bind mounts æ›¿ä»£ volumes

### 2. è¨˜æ†¶é«”ç®¡ç†
- å®šæœŸæ¸…ç†æœªä½¿ç”¨çš„æ˜ åƒ
- ç›£æ§å®¹å™¨è¨˜æ†¶é«”ä½¿ç”¨
- èª¿æ•´ Docker Desktop è¨˜æ†¶é«”é™åˆ¶

### 3. ç¶²è·¯æœ€ä½³åŒ–
- ä½¿ç”¨è‡ªå®šç¾©ç¶²è·¯
- æœ€å°åŒ–ä¸å¿…è¦çš„ç«¯å£æš´éœ²
- åˆ©ç”¨ Docker å…§éƒ¨ DNS

## ğŸ”’ å®‰å…¨æ³¨æ„äº‹é …

### é–‹ç™¼ç’°å¢ƒå®‰å…¨
- âš ï¸ é–‹ç™¼ç’°å¢ƒç¦ç”¨äº†éƒ¨åˆ†å®‰å…¨æª¢æŸ¥
- âš ï¸ é–‹ç™¼è³‡æ–™åº«ä½¿ç”¨ç°¡å–®å¯†ç¢¼
- âš ï¸ èª¿è©¦æ¨¡å¼å¯èƒ½æš´éœ²æ•æ„Ÿè³‡è¨Š

### ç”Ÿç”¢éƒ¨ç½²å‰æª¢æŸ¥
- âœ… åˆ‡æ›åˆ°ç”Ÿç”¢é…ç½® `docker-compose.unified.yml`
- âœ… ä¿®æ”¹æ‰€æœ‰é è¨­å¯†ç¢¼
- âœ… é—œé–‰èª¿è©¦æ¨¡å¼ `DEBUG=false`
- âœ… å•Ÿç”¨èªè­‰ `AUTH_DISABLED=false`

## ğŸ“š ç›¸é—œæ–‡æª”

- [å°ˆæ¡ˆæ¶æ§‹æ–‡æª”](./PROJECT_STRUCTURE_STANDARD.md)
- [API æ–‡æª”](http://localhost:8001/api/docs)
- [Docker å®˜æ–¹æ–‡æª”](https://docs.docker.com/)
- [Vite æ–‡æª”](https://vitejs.dev/)
- [FastAPI æ–‡æª”](https://fastapi.tiangolo.com/)

---

**ğŸ‰ ç¾åœ¨ä½ å¯ä»¥äº«å—é«˜æ•ˆçš„ Docker é–‹ç™¼é«”é©—ï¼**

ä¿®æ”¹ç¨‹å¼ç¢¼ â†’ è‡ªå‹•åŒæ­¥ â†’ å³æ™‚é‡è¼‰ â†’ ç«‹å³çœ‹åˆ°çµæœ âœ¨