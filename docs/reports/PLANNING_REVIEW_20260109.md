# CK_Missive 專案整體規劃檢視

> **報告日期**: 2026-01-09
> **專案版本**: v3.0.0
> **狀態**: 開發中

---

## 一、本週完成項目 (2026-01-05 ~ 2026-01-09)

### 已完成項目統計

| 項目 | 狀態 | 提交紀錄 |
|------|------|----------|
| 內網 HMR 連線修復 | ✅ 完成 | `eafb3c8` |
| Bug 截圖整理文件化 (38 個) | ✅ 完成 | 文件保留 |
| RWD 響應式優化 (3 頁) | ✅ 完成 | `19c5f7d` |
| 整合測試修復 (177/177) | ✅ 完成 | `19c5f7d` |
| .gitignore 規則優化 | ✅ 完成 | `19c5f7d` |

### 程式碼提交統計

```
本週提交: 12 次
修改檔案: ~50 個
新增功能: 8 項
Bug 修復: 38 個
```

---

## 二、系統健康度評估

### 2.1 測試覆蓋率

| 類別 | 數量 | 通過率 |
|------|------|--------|
| 單元測試 | 170 | 100% |
| 整合測試 | 7 | 100% |
| **總計** | **177** | **100%** |

**覆蓋率**: 38% (需提升至 60%+)

### 2.2 RWD 響應式支援

| 頁面 | 狀態 | 支援程度 |
|------|------|----------|
| DocumentPageEnhanced | ✅ 完成 | 完整 |
| DashboardPage | ✅ 完成 | 完整 |
| CalendarPage | ✅ 完成 | 完整 |
| 其他頁面 (32 個) | ⏳ 待處理 | 部分 |

**RWD 覆蓋率**: 9% (3/35 頁面)

### 2.3 API 端點統計

- **後端路由**: 207 個
- **前端 API 呼叫**: 83 個
- **端點集中管理**: ✅ 已完成 (endpoints.ts)

---

## 三、待辦事項優先級排序

### 🔴 高優先級 (本週)

| 項目 | 預估工時 | 影響範圍 |
|------|----------|----------|
| 測試覆蓋率提升至 50% | 2 天 | 品質保證 |
| RWD 其餘關鍵頁面 (5 頁) | 1 天 | 使用者體驗 |
| doc_type 白名單驗證 | 0.5 天 | 資料品質 |

### 🟡 中優先級 (下週)

| 項目 | 預估工時 | 影響範圍 |
|------|----------|----------|
| E2E 測試建置 | 3 天 | 品質保證 |
| 效能優化 (Bundle Size) | 1 天 | 載入速度 |
| 錯誤監控整合 | 1 天 | 維運 |

### 🟢 低優先級 (延後)

| 項目 | 預估工時 | 說明 |
|------|----------|------|
| API 版本控制 (/api/v1/) | 5-7 天 | 需完整規劃 |
| 多語系支援 | 5 天 | 非必要 |
| PWA 離線支援 | 3 天 | 增值功能 |

---

## 四、API 版本控制評估摘要

### 工作範圍

- **後端路由**: 207 個 (僅需改 main.py)
- **前端路徑**: 186 個 (endpoints.ts)
- **硬編碼路徑**: 36-39 處

### 建議策略

```
選項 A: 路由前綴策略 (推薦)
修改: /api → /api/v1
工作量: 最低 (1 個後端檔案 + 1 個前端檔案)
風險: 低

選項 B: 並行版本支持
保留: /api (舊版)
新增: /api/v1 (新版)
工作量: 中等
風險: 極低
```

### 結論

**建議延後至 v3.1.0 版本**，優先完成：
1. 測試覆蓋率提升
2. RWD 完整覆蓋
3. E2E 測試建置

---

## 五、近期里程碑規劃

### v3.0.1 (本週)

```
□ 測試覆蓋率 50%
□ RWD 覆蓋 5 個關鍵頁面
□ doc_type 驗證強化
```

### v3.0.2 (下週)

```
□ E2E 測試框架 (Playwright)
□ 效能優化
□ 錯誤監控整合
```

### v3.1.0 (月底)

```
□ API 版本控制 (/api/v1/)
□ RWD 完整覆蓋
□ 測試覆蓋率 60%
```

---

## 六、技術債清單

| 項目 | 風險等級 | 建議處理時間 |
|------|----------|--------------|
| datetime.utcnow() 棄用警告 | 低 | v3.1.0 |
| Pydantic V2 遷移警告 | 低 | v3.2.0 |
| openpyxl 日期警告 | 極低 | 不急 |
| gzip I/O 警告 (測試) | 極低 | 不急 |

---

## 七、環境配置確認

### 開發環境

```
前端: http://localhost:3000
後端: http://localhost:8001
資料庫: PostgreSQL 16 (Docker)
```

### 內網存取

```
前端: http://192.168.50.38:3000
後端: http://192.168.50.38:8001
HMR: WebSocket on ws://192.168.50.38:3000
```

### 生產環境

```
待部署至 Docker 容器
建議使用 docker-compose 統一管理
```

---

## 八、下一步行動

### 立即執行

1. ✅ 提交今日變更
2. 📋 確認本週優先項目
3. 📊 建立進度追蹤

### 本週目標

- [ ] 測試覆蓋率提升至 50%
- [ ] RWD 覆蓋 ProjectPage, VendorPage, AgencyPage
- [ ] doc_type 白名單驗證

---

*報告生成: Claude Code Assistant*
*最後更新: 2026-01-09 11:30*
