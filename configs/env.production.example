# =============================================================================
# CK_Missive Production 環境配置
# =============================================================================
# 目標伺服器: 192.168.50.41 (QNAP NAS)
# 部署日期: 2026-02-02
# =============================================================================

# --- 🏷️ 專案資訊 ---
COMPOSE_PROJECT_NAME=ck_missive_prod
PROJECT_VERSION=3.1
ENVIRONMENT=production
NODE_ENV=production
DEVELOPMENT_MODE=false

# --- 🗄️ 資料庫配置 (⚠️ 請修改密碼) ---
POSTGRES_USER=ck_user
POSTGRES_PASSWORD=CK_Prod_2026_SecurePassword!
POSTGRES_DB=ck_documents
DATABASE_URL=postgresql+asyncpg://ck_user:CK_Prod_2026_SecurePassword!@postgres:5432/ck_documents

# --- ⚡ Redis 配置 ---
REDIS_URL=redis://redis:6379/0

# --- 🔐 安全設定 (⚠️ 請使用 openssl rand -hex 32 生成) ---
SECRET_KEY=CHANGE_THIS_TO_RANDOM_64_CHAR_HEX_STRING_USE_OPENSSL
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=60

# --- 🌐 網路配置 ---
# 內網存取 URL
VITE_API_BASE_URL=http://192.168.50.41:8001
CORS_ORIGINS=http://192.168.50.41,http://192.168.50.41:80,http://localhost:3000

# --- 🔍 生產環境設定 ---
DEBUG=false
DATABASE_ECHO=false
LOG_LEVEL=INFO
AUTH_DISABLED=false

# --- 📧 Google OAuth (選填，如需使用請設定) ---
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
GOOGLE_REDIRECT_URI=http://192.168.50.41/auth/callback
GOOGLE_CALENDAR_ID=primary
GOOGLE_CREDENTIALS_PATH=./GoogleCalendarAPIKEY.json
GOOGLE_ALLOWED_DOMAINS=
AUTO_ACTIVATE_NEW_USER=false
DEFAULT_USER_ROLE=user

# --- 📱 前端設定 ---
VITE_GOOGLE_CLIENT_ID=${GOOGLE_CLIENT_ID}
VITE_AUTH_DISABLED=false

# --- 📊 監控與日誌 ---
LOG_FILE=./logs/app.log
ENABLE_LOGGING=true
ENABLE_METRICS=true

# --- 🚀 效能設定 ---
POOL_SIZE=10
MAX_OVERFLOW=20
POOL_RECYCLE=300

# =============================================================================
# ✅ 部署前檢查清單:
#
# [x] ENVIRONMENT=production
# [x] DEBUG=false
# [x] AUTH_DISABLED=false
# [ ] POSTGRES_PASSWORD 已修改為強密碼
# [ ] SECRET_KEY 已使用 openssl rand -hex 32 生成
# [ ] CORS_ORIGINS 設定正確
# [ ] 資料庫備份已完成 (如為升級部署)
# =============================================================================
