# =============================================================================
# CK_Missive 後端環境變數配置範本
# =============================================================================
# 複製此檔案為 .env 並填入實際值
# 版本: 2.0.0
# 更新: 2026-01-15
# =============================================================================

# -----------------------------------------------------------------------------
# 🔐 安全性設定 (必填)
# -----------------------------------------------------------------------------
# JWT 簽名金鑰 - 至少 32 字元的隨機字串
# 產生方式: openssl rand -hex 32 或 python -c "import secrets; print(secrets.token_hex(32))"
SECRET_KEY=

# -----------------------------------------------------------------------------
# 🗄️ 資料庫設定
# -----------------------------------------------------------------------------
# ⚠️ 重要：此檔案為範本，實際設定請使用專案根目錄的 .env 檔案
# 後端目錄不應有獨立的 .env 檔案（避免設定衝突）
#
# 完整連線字串 (優先使用)
DATABASE_URL=postgresql://ck_user:ck_password_2024@localhost:5434/ck_documents

# 或使用個別設定 (當 DATABASE_URL 未設定時使用)
POSTGRES_USER=ck_user
POSTGRES_PASSWORD=ck_password_2024
POSTGRES_DB=ck_documents
POSTGRES_HOST=localhost
POSTGRES_PORT=5434

# SQLAlchemy 除錯模式 (印出所有 SQL 語句)
DATABASE_ECHO=False

# -----------------------------------------------------------------------------
# 🌐 應用程式設定
# -----------------------------------------------------------------------------
# 應用程式名稱
APP_NAME=乾坤測繪公文管理系統

# 開發模式 (生產環境設為 False)
DEVELOPMENT_MODE=True

# 除錯模式
DEBUG=False

# 允許的主機
ALLOWED_HOSTS=localhost,127.0.0.1

# -----------------------------------------------------------------------------
# 🔗 CORS 跨域設定
# -----------------------------------------------------------------------------
# 允許的來源 (多個用逗號分隔)
# 系統會自動偵測本機 IP 並加入允許清單
CORS_ORIGINS=http://localhost:3000,http://127.0.0.1:3000

# -----------------------------------------------------------------------------
# 🔑 JWT 認證設定
# -----------------------------------------------------------------------------
# 加密演算法
ALGORITHM=HS256

# Access Token 有效期限 (分鐘)
ACCESS_TOKEN_EXPIRE_MINUTES=60

# -----------------------------------------------------------------------------
# 🔓 認證與權限設定
# -----------------------------------------------------------------------------
# ⚠️ 警告: 僅限開發環境使用，生產環境必須為 False
AUTH_DISABLED=False

# 新使用者自動啟用 (生產環境建議 False，需管理員審核)
AUTO_ACTIVATE_NEW_USER=False

# 新使用者預設角色
DEFAULT_USER_ROLE=user

# -----------------------------------------------------------------------------
# 🔐 Google OAuth 設定
# -----------------------------------------------------------------------------
# Google OAuth 2.0 Client ID
GOOGLE_CLIENT_ID=

# Google OAuth 2.0 Client Secret
GOOGLE_CLIENT_SECRET=

# OAuth 回調 URI
GOOGLE_REDIRECT_URI=http://localhost:3000/auth/callback

# 允許的 Google 網域 (多個用逗號分隔，空白表示允許所有)
# 範例: example.com,company.org
GOOGLE_ALLOWED_DOMAINS=

# -----------------------------------------------------------------------------
# 📅 Google Calendar 設定
# -----------------------------------------------------------------------------
# Google Calendar ID (primary 為主日曆)
GOOGLE_CALENDAR_ID=primary

# Google API 憑證檔案路徑
GOOGLE_CREDENTIALS_PATH=./GoogleCalendarAPIKEY.json

# -----------------------------------------------------------------------------
# 📝 日誌設定
# -----------------------------------------------------------------------------
# 日誌等級: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# 日誌檔案路徑
LOG_FILE=./logs/app.log

# -----------------------------------------------------------------------------
# 🖥️ 前端設定
# -----------------------------------------------------------------------------
# 前端服務埠號
FRONTEND_HOST_PORT=3000

# -----------------------------------------------------------------------------
# 🚀 API 速率限制設定 (新增)
# -----------------------------------------------------------------------------
# 每分鐘請求上限
RATE_LIMIT_PER_MINUTE=60

# 每日請求上限
RATE_LIMIT_PER_DAY=10000
